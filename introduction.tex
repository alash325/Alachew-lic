%%% Intro.tex --- 
%% 
%% Filename: Intro.tex
%% Description: 
%% Author: Ola Leifler
%% Maintainer: 
%% Created: Thu Oct 14 12:54:47 2010 (CEST)
%% Version: $Id$
%% Version: 
%% Last-Updated: Thu May 19 14:12:31 2016 (+0200)
%%           By: Ola Leifler
%%     Update #: 5
%% URL: 
%% Keywords: 
%% Compatibility: 
%% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 
%%% Commentary: 
%% 
%% 
%% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 
%%% Change log:
%% 
%% 
%% RCS $Log$
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 
%%% Code:


\chapter{Introduction}
\label{cha:introduction}


\section{Motivation}
\label{sec:motivation}

Modeling and simulation of Cyber-Physical Systems (CPSs) are becoming more important in many engineering applications. Building mathematical models and the ability to simulate their behavior enables engineers to virtually analyze the system without making experiments on the real system that would otherwise be too expensive, risky, or time-consuming. As a result, the design with different concepts can be thoroughly tested, evaluated and optimized before building physical prototypes. This, in principle, enables systems engineers to identify a wider set of early system-level mistakes and increase the quality of products.

The interest in Equation-based Object-Oriented (EOO) languages and tools in industry has dramatically increased during recent years because of their increasing importance in modeling, simulation, and specification of complex systems. There exist several different \acrshort{eoo} modeling languages and tools today for mathematical modeling and simulation of large and heterogeneous physical systems. Some examples of such systems modeling and simulation languages and tools are Modelica \cite{modelica}, MSC.ADAMS \cite{adams}, SKF’s BEAST(BEAring Simulation Toolbox) \cite{beast}, VHDL-AMS \cite{vhdlamsernst, vhdlamsieee}, Simulink/Simscape \cite{simulink}, SysML \cite{sysml,sysmlmorgan}, and ModelicaML \cite{modelicamlreport, modelicaml}, etc. Such languages open the possibility to model multi-disciplinary dynamic complex systems through reusable model components, and generate simulation code  for a number of different platforms. However, in spite of the similarities between modeling and simulation tools and languages, it is often difficult to use such EOO languages and tools in combination.

While modeling and simulation remain important tools for engineers in many disciplines, the landscape is shifting towards a more flexible and diverse use of model-based design methodologies. Many system engineers depend heavily on model-based design and control of dynamic complex \acrshort{cps} involving different science and engineering disciplines. Of paramount importance is the ability to capture all central aspects of such systems in the models as an executable specification to reflect the evolution of a system, including the physical behavior of the system components and the architecture description of its software and hardware. 

This trend raises new demands on associated tools. In particular, a model-based design and control process includes several activities, such as model checking, simulation, parameter sensitivity analysis, impact analysis, formal verification, design optimization, control analysis and synthesis, and state estimation and control system development and deployment, etc., to capture different aspects of dynamic systems modeling.

However, currently no vendor has a comprehensive whole-life-cycle systems engineering tool support for \acrshort{cps}, and no mature solution to integrate different tools together, thus modeling and simulation tools are still used separately in industry. Accordingly, flexibility, interoperability, and traceability are key success factors for algorithms and modeling tools in order to meet future challenges. Thus, it becomes very important to integrate modeling and simulation of several different tools including dynamic optimization, co-modeling, co-simulation, simulation analysis, and traceability.


\section{Problem Formulation}
\label{sec:Problem Formulation}

There is currently an increasing need to integrate different system modeling and simulation languages, tools, and algorithms in the engineering design process. The unique challenges in \acrshort{cps} integration emerge both from the increasing heterogeneity of components and interactions, and increasing size of systems. To address increasing complexity and challenges of \acrshort{cps}, significant progress needs to be made towards a model-based integrating several design tools into a single modeling and simulation environment, where co-simulation, analysis, optimization, and traceability can be performed among others for more efficient simulation.

Mathematical models are extensively used in different advanced engineering application areas (e.g., multi-body system dynamics, electronic circuit simulation, chemical process engineering), as a standard design methodology. Traditionally, EOO Languages and Tools (EOOLT) mainly focus on model simulation. However, model simulation is not the only objective of mathematical modeling. In the last decades there has been a strong trend towards using models for the solution of optimization problems such as optimal control problems (OCPs). This enables for more efficient and automatic solution of dynamic optimization problems as simulation models are reused for optimization. While there are several tools restricted to a particular modeling domain supporting dynamic optimization, very limited toolboxes are available for optimizing heterogeneous physical systems. Thus, the first problem we tackled in this thesis is that, 

\begin{description}
	
\item \textbf{Problem 1: Need to support dynamic optimization algorithms in the model-based development process of heterogeneous \acrshort{cps}.}

\end{description}

While simulation of dynamic systems remain important tools for engineers, further analysis and post processing for simulation results is require for most applications of models e.g \acrshort{ocp} and linear models. Although EOO modeling languages such as Modelica is an industry-standard high-end modeling language and exchange format, the lack of tools for advanced analysis of models has been a weakness of the language as compared to scripting languages. Scripting languages such as MATLAB \footnote{https://se.mathworks.com/products/matlab.html} and Python \footnote{https://www.python.org/} provide most of the desirable analysis capabilities such as control of simulation, linear model analysis, model sensitivity, optimization capability, and advanced post-processing of simulation results etc. In order to exploit the full potential of such an \acrshort{eoo} language, Modelica, either a Modelica supporting tool should be integrated with a scripting language for model analysis, or Modelica should be extended to a scripting language. Thus, the second problem we tackled in this thesis is that,

\begin{description}

\item \textbf{Problem 2: Need to support advanced simulation modeling analysis for more efficient simulation.}

\end{description}

In the area of modeling and simulation of heterogeneous \acrshort{cps}, domain experts use specialized modeling and simulation environments for sub-models of the system. These tools are also favored, as they usually offer larger libraries of sub-models of the system and more domain specific features than a multi-domain tool. In reality, the different parts of the system represented by these sub-models are often physically tightly coupled and interdependent. However, problems may arise when trying to combine the different sub-models of the system model into a single, coupled system model simulation from various tools, as the simulation sub-models are likely to use different differential equation solvers with variable time step. Hence, numerical stability which is not an issue for discrete time simulations becomes an important consideration since there is a certain physical communication delay between different simulation sub-models of the system. Thus, the problem is still how to connect the sub-models into a single simulation model and perform the necessary evaluations to compute the solution for a more complete and exact system analysis. 

One method that was earlier used to de-couple such simulation sub-models and allow them to be independently simulated and coupled in a numerically stable way via co-simulation techniques is Transmission Lines Modeling (TLM) \cite{tlmkurs90,tlmkurs99,tlmcogan,tlmjohns}. TLM uses physically motivated time delays to separate the sub-models in time and enable efficient co-simulation. The technique has proven to be numerically stable and was implemented for coupling of hydraulical and mechanical sub-systems \cite{tlmkurs90,tlmkurs99}. However, no attempt to design a general and convenient open-source co-modeling and simulation framework based on TLM technique. 

\begin{description}

\item \textbf{Problem 3: Need to integrate \acrshort{tlm} based co-simulation which is  efficient and numerically stable simulation, and yet no general open-source  tool exists that facilitate the task  for modeling tool specific simulation sub-models , connecting via \acrshort{tlm}  and co-simulating the complete system model.}

\end{description}

A common situation in industry is that a system model is composed of several sub-models which may have been developed using different tools. The quality and effectiveness of large scale system modeling heavily depends on the underlying tools used for different phases of the development lifecycle. Available modeling and simulation environments support specialized modeling parts of the system model, also support different operations on models, such as requirements modeling, model simulation, model checking, validation, and verification. Thus, seamless exchange of models in the context of different modeling tools is becoming increasingly important. However, due to the lack of interoperability between tools it is often difficult to use such tools in combination. Also, without the support of tracing the requirements and associating them with the models and the simulation results, the impact analysis, verification, and validation will be difficult. Hence, the problem to be dealt with is:

\begin{description}

\item \textbf{Problem 4: Need collaborative modeling of \acrshort{cps} among different modeling and simulation tools and traceability of artifacts created throughout the whole system development process}

\end{description}


\section{Research Questions}
\label{sec:Research Questions}

Our overall goal is to design and implement tools and methods through a proof of concept and prototype demonstration that would increase the process of model-based development of CPSs efficiency and quality. We formulate the following research question:

\textit{How can the features and functionality of computer-aided CPSs modeling and simulation tools be improved in order to make the process of model-based development of CPSs more efficient and usable in the product development process ? } 

To answer the research question we pursue five specific objectives: 
\begin{itemize}

 \item to ensure creating automatic links and traceability between requirements, simulation models, FMUs, and simulation results artifacts 
 \item to ensure integration of product design tools with modeling and simulation tools and keep track of changes
 \item to ensure automatic solution of dynamic optimization problems by reusing simulation models for optimization  
 \item to ensure reusing and combining existing simulation models formalized by different experts in different modeling languages by means of numerically stable co-simulation modeling 
 \item to support advanced simulation modeling analysis 

\end{itemize}

With our solution we address the following properties: openness, generality, model portability, tool interoperability, model integration, model reusability, and model evolution and model maintenance.

\section{Contributions}
\label{sec:Contributions}

The main contributions of the work presented in this thesis towards our ultimate goal of an integrated framework, to ensure high quality of simulation models, tools interoperability and traceability of artifacts for efficient model-based development of \acrshort{cps} are as follows:

\begin{itemize}
	
\item \textbf{We have contributed to the  developed of a model-based dynamic optimization approach by integrating optimization into the model development process.} Models and optimization algorithms are combined into an integrated model. Specifically, the systems to be controlled are formulated in Modelica and, the corresponding optimization problem expressed in Optimica \cite{optimica}. This allows an efficient optimizing of heterogeneous physical systems as simulation models are reused for optimization.

\item \textbf{We have contributed to the  developed of a versatile graphical co-modeling editor and co-simulation framework based on \acrshort{tlm} method.} This enables for modeling, connecting, and simulation of several different modeling tools using the \acrshort{tlm} co-simulation technique, which is numerically stable and efficient simulation. \textbf{We have also developed a schema for standardizing the structure and validation constraints of a composite model.} 

\item \textbf{We have contributed to a tool-supported method for multi-domain collaborative modeling and traceability support throughout the developments in CPSs.} This enables recording and establishing the traceability links of model elements (e.g. requirements, activities, artifacts, modeling tools, simulation results, validation, verification) through a standardize interface and format using Open Services for Lifecycle Collaboration (OSLC). The artifacts processed and generated by a tool-chain are stored in a global data repository that supports version control and enables traceability at all stages of developments.\textbf{ We have also developed a schema for standardizing the structure and validation constraints of traceability data that can be used by several simulation and requirements modeling tools.} 

\item \textbf{Increased \acrshort{eoo} simulation modeling analysis,} helping the user for controlling simulation models and automatically analyzing simulation results using various packages in Python, like a Fast Fourier Transform (FFT) analysis to improve simulation models for more efficient simulation. We have extended the list of simulator plugins for automatic simulation results analysis tool, PySimulator \cite{pysimulator}, by Wolfram SystemModeler \footnote{http://wolfram.com/system-modeler/} simulator. We have also extended OMPython \cite{ompython} which enables simulation and analysis of \acrshort{eoo} Modelica models with a better integration with Python.

\end{itemize}


\section{List of Publication}
\label{sec:List of Publication}


The work presented in this thesis is based on the following publications:


\begin{itemize}
	
\item[\begin{NoHyper} \cite{alachewoptimization} \end{NoHyper} ] \textbf{Alachew Shitahun}, Vitalij Ruge, Mahder Gebremedhin, Bernhard Bachmann, Lars Eriksson, Joel Andersson, Moritz Diehl, and Peter Fritzson. \textbf{Model-Based Optimization with OpenModelica and CasADi.} In Proceedings of IFAC Conference in Tokyo, September 2013. 

\item[\begin{NoHyper} \cite{alachewoptimizationdemo} \end{NoHyper}]  \textbf{Alachew Shitahun}, Vitalij Ruge, Mahder Gebremedhin, Bernhard Bachmann, Lars Eriksson, Joel Andersson, Moritz Diehl, Peter Fritzson. \textbf{Tool Demonstration Abstract: OpenModelica and CasADi for Model-Based Dynamic Optimization.} In Proceedings of the 5th International Workshop on Equation-Based Object-Oriented Modeling Languages and Tools, Nottingham, UK, April 19, 2013. 

\item[ \begin{NoHyper}  \cite{alachewompython} \end{NoHyper}] Bernt Lie, Sudeep Bajracharya, \textbf{Alachew Mengist}, Lena Buffoni, Arun Kumar, Martin Sj\"{o}lund, Adeel Asghar, Adrian Pop, Peter Fritzson.\textbf{ API for Accessing OpenModelica Models From Python.} In Proceedings of 9th EUROSIM Congress on Modeling and Simulation, September 12-16, 2016, Oulu, Finland. 

\item[\begin{NoHyper} \cite{alachewpysimulator} \end{NoHyper}]  Adeel Asghar, Andreas Pfeiffer, Arunkumar Palanisamy, \textbf{Alachew Mengist}, Martin Sj\"{o}lund, Adrian Pop and Peter Fritzson.\textbf{ Automatic Regression Testing of Simulation Models and Concept for Simulation of Connected FMUs in PySimulator.} In Proceedings of the 11th International Modelica Conference, Versailles, France, September 21-23, 2015. 

\item[\begin{NoHyper} \cite{alachewtlm} \end{NoHyper}]  \textbf{Alachew Mengist}, Adeel Asghar, Adrian Pop, Peter Fritzson, Willi Braun, Alexander Siemers and Dag Fritzson.\textbf{ An Open-Source Graphical Composite Modeling Editor and Simulation Tool Based on FMI and TLM Co-Simulation.} In Proceedings of the 11th International Modelica Conference, Versailles, France, September 21-23, 2015. 


\item[\begin{NoHyper} \cite{alachewtraceability} \end{NoHyper}]  \textbf{Alachew Mengist}, Adrian Pop, Adeel Asghar, Peter Fritzson. \textbf{Traceability Support in OpenModelica Using Open Services for Lifecycle Collaboration (OSLC).} In Proceedings of the 12th International Modelica Conference, Prague, Czech Republic, May 15-17, 2017. 

\item[\begin{NoHyper} \cite{alachewrequirementstraceability} \end{NoHyper}]  Lena Buffoni, Adrian Pop, \textbf{Alachew Mengist}. \textbf{Traceability and impact analysis in requirement verification.} In Proceedings of the 8th International Workshop on Equation-Based Object-Oriented Modeling Languages and Tools, Munich, Germany, December 1, 2017. 

\end{itemize}

The publications listed above correspond to the chapters of this thesis as follows. The work on model-based dynamic optimization presented in \cite{alachewoptimization} and \cite{alachewoptimizationdemo} are covered in  \textbf{Chapter \ref{cha:optimization}}. The TLM-based approach for co-modeling and simulation framework developed in \cite{alachewtlm} is presented in \textbf{Chapter \ref{cha:tlm}}. The approach to collaborative modeling and traceability support introduced in \cite{alachewtraceability} is elaborated in \textbf{Chapter \ref{cha:traceability}}.The tools for controlling of simulation models and advanced analysis of simulation results developed in \cite{alachewompython} and \cite{alachewpysimulator} are described in \textbf{Chapter \ref{cha:python}}.  The work in progress for seamless tracing of Modelica based requirements modeling and verification given in \cite{alachewrequirementstraceability} is discussed in \textbf{Chapter \ref{cha:conclusionsandfuturework}}, as a future work.


\section{Thesis Outline}
\label{sec:Thesis Outline}

The thesis is organized as follows:

\begin{description}
	
\item \textbf{Chapter \ref{cha:background} – Background and Related Work } provides the basic concepts relevant to understanding the rest of this thesis.  In particular, we present an overview of the state-of-the-art \acrshort{eoo} modeling languages and simulation tools, and co-simulation technologies for \acrshort{cps}. 

\item \textbf{Chapter \ref{cha:optimization} – Integration of Optimization toolchain into the Model-Based Development Process} introduces the complete toolchain for model-based dynamic optimization together with an industrial relevant applications solved by the toolchain.

\item \textbf{Chapter \ref{cha:tlm} – \acrshort{tlm}-based Co-modeling Editor and Co-simulation Framework} introduces our general approach for modeling of a composite model containing several tool specific simulation models which can be integrated, connected and simulated based on TLM co-simulation technique.

\item \textbf{Chapter \ref{cha:traceability} – Collaborative Modeling and Traceability in the Model-Based Design of \acrshort{cps}} presents our tool-supported method for collaborative modeling of \acrshort{cps} from requirements to models and simulation results, and tracing artifacts created during the whole system development process.  

\item \textbf{Chapter \ref{cha:python} – Advanced Simulation Modeling Analysis} presents modeling and simulation tools interoperability and communication with Python for controlling simulation models and advanced analysis of simulation results for more efficient simulation.

\item \textbf{Chapter \ref{cha:conclusionsandfuturework} – Conclusions and Future Work} concludes the work presented in this thesis and discusses the possible directions for the future work.

\end{description}

The thesis also contains an appendix in which we provide parts of contribution for standardizing the structure and validation constraints of composite modeling and traceability information.

%\nocite{scigen}
%We have included Paper \ref{art:scigen}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Intro.tex ends here


%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "demothesis"
%%% End: 
